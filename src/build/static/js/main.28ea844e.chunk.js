(this.webpackJsonppresentaciones=this.webpackJsonppresentaciones||[]).push([[0],{32:function(e,t){},44:function(e,t,n){},53:function(e,t,n){},61:function(e,t){},95:function(e,t,n){"use strict";n.r(t);n(39);var a=n(1),c=n.n(a),i=n(35),s=n.n(i),r=(n(44),n(12)),o=n(4),l=n(20),d=n(21),j=n(24),u=n(23),b=n.p+"static/media/Logo-Coronado.e500f9a1.svg",h=n(0),f=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={isActive:!1},e.handleToggle=function(){e.setState({isActive:!e.state.isActive})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state.isActive;return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)("div",{className:"topBar",children:Object(h.jsx)("div",{id:"menu-bars",onClick:this.handleToggle})}),Object(h.jsx)("nav",{className:"no-mobile",children:Object(h.jsxs)("div",{className:"no-mobile-container",children:[Object(h.jsx)("img",{className:"logo",src:b,alt:"Logo Iglesia de Cristo en Coronado"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{to:"/",exact:!0,children:["Inicio",Object(h.jsx)("div",{className:"active-line"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{to:"/crear",children:["Crear",Object(h.jsx)("div",{className:"active-line"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{to:"/agregar",children:["Agregar",Object(h.jsx)("div",{className:"active-line"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{to:"/modificar",children:["Modificar",Object(h.jsx)("div",{className:"active-line"})]})})]})]})}),Object(h.jsxs)("nav",{className:"navMobile",children:[Object(h.jsxs)("ul",{className:e?"active":"",children:[Object(h.jsx)("li",{children:Object(h.jsx)(r.b,{to:"/",exact:!0,onClick:this.handleToggle,children:"Inicio"})}),Object(h.jsx)("li",{children:Object(h.jsx)(r.b,{to:"/crear",onClick:this.handleToggle,children:"Crear"})}),Object(h.jsx)("li",{children:Object(h.jsx)(r.b,{to:"/agregar",onClick:this.handleToggle,children:"Agregar"})}),Object(h.jsx)("li",{children:Object(h.jsx)(r.b,{to:"/modificar",onClick:this.handleToggle,children:"Modificar"})})]}),Object(h.jsx)("img",{className:"logo",src:b,alt:"Logo Iglesia de Cristo en Coronado"})]})]})}}]),n}(a.Component),m=n.p+"static/media/youtube_logo.88cd0fb3.svg",O=n.p+"static/media/facebook_logo.093b74e6.svg",x=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(h.jsx)(c.a.Fragment,{children:Object(h.jsxs)("footer",{children:[Object(h.jsx)("p",{children:"Iglesia de Cristo en Coronado, Costa Rica."}),Object(h.jsx)("img",{id:"youtube_logo",className:"footer_logo",src:m,alt:"Logo de Youtube"}),Object(h.jsx)("img",{id:"facebook_logo",className:"footer_logo",src:O,alt:"Logo de Facebook"})]})})}}]),n}(a.Component),p=(n(53),n.p+"static/media/penta1.ef60e11f.svg"),v=function(){var e=Object(a.useRef)();return Object(h.jsx)(c.a.Fragment,{children:Object(h.jsxs)("main",{id:"inicio",className:"mainContainer",children:[Object(h.jsx)("header",{children:Object(h.jsxs)("div",{className:"inicio-header",children:[Object(h.jsx)("img",{id:"penta1",src:p,alt:"imagen pentagrama y notas musicales"}),Object(h.jsx)("h1",{children:"CREACI\xd3N DE PRESENTACIONES DE CANTOS"}),Object(h.jsx)("h3",{children:"\xa1Ah\xf3rrese horas de trabajo, termine en unos cuantos clicks!"})]})}),Object(h.jsx)("div",{className:"linea-divisoria"}),Object(h.jsx)("div",{id:"abajo-inicio",className:"mas-abajo",onClick:function(){e.current.scrollIntoView({behavior:"smooth"})}}),Object(h.jsxs)("div",{className:"columnsContainer",ref:e,children:[Object(h.jsxs)("div",{className:"column column1",children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:"Cientos de cantos disponibles"}),Object(h.jsxs)("p",{children:["Se han agregado muchos cantos de diferentes himnarios y muchos cantos nuevos que se han aprendido aprendido a lo largo del tiempo.",Object(h.jsx)("br",{}),"Con esta herramienta se puede elegir en una larga lista y crear presentaciones f\xe1cilmente en un instante."]})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:"Agregar cantos nuevos"}),Object(h.jsx)("p",{children:"Si no se encuentra alg\xfan canto existe la posibilidad de agregarlo, una vez agregado un canto este estar\xe1 disponible para todos los usuarios que quieran utilizarlo en sus presentaciones."})]})]}),Object(h.jsx)("div",{className:"column column2",children:Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:"Modificar cantos existentes"}),Object(h.jsx)("p",{children:"Muchas veces quienes agregamos cantos nos equivocamos pero para esos errores que encontremos tambi\xe9n est\xe1 la posibilidad de modificar cualquier canto existente."}),Object(h.jsx)("div",{id:"penta2"})]})})]})]})})},g=n(15),N=n(7),C=n(6),y=n.n(C),I=n(11),k=n(2),T=n(37),F=function(e){var t=Math.ceil(e.himnos.length/16),n=Object(a.useState)(1),c=Object(k.a)(n,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){s(1)}),[t]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{id:"lista-cantos",children:[e.himnos.map((function(t,n){return n>=16*i-16&&n<16*i?Object(h.jsxs)("div",{className:"titulo-container"+(t.selected?" titulo-selected":""),children:[Object(h.jsx)("div",{className:"titulo",children:Object(h.jsx)("h4",{children:t.Titulo})}),Object(h.jsxs)("div",{className:"iconos",children:[Object(h.jsx)("i",{className:"icono icono-ver",onClick:function(){return e.verHimno(t.Id,t.Titulo)}}),Object(h.jsx)("i",{className:"icono icono-agregar"+(t.selected?" icono-selected":""),onClick:function(){return e.agregarHimno(t.Id,t.Titulo)}})]})]},n):Object(h.jsx)("div",{},n)})),Object(h.jsxs)("div",{id:"paginas",children:[Object(h.jsx)("div",{id:"flecha-anterior",children:Object(h.jsx)("i",{className:"icono icono-abajo",onClick:function(){console.log("prev"),i>1&&s(i-1)}})}),Object(h.jsxs)("h3",{children:["P\xe1gina ",i,"/",t]}),Object(h.jsx)("div",{id:"flecha-siguiente",children:Object(h.jsx)("i",{className:"icono icono-abajo",onClick:function(){console.log("next"),i<t&&s(i+1)}})})]})]})})},w=function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{id:"presentacion-cantos",children:e.presentacion.map((function(t,n){return Object(h.jsxs)("div",{className:"titulo-container"+(t.tipo?" "+t.tipo:""),children:[Object(h.jsx)("div",{className:"titulo",children:Object(h.jsx)("h4",{children:t.Titulo})}),Object(h.jsxs)("div",{className:"iconos",children:[Object(h.jsx)("i",{className:"icono icono-abajo",onClick:function(){return e.bajarHimno(t.Id)}}),Object(h.jsx)("i",{className:"icono icono-arriba",onClick:function(){return e.subirHimno(t.Id)}}),Object(h.jsx)("i",{className:"icono icono-cerrar",onClick:function(){return e.eliminarHimno(t.Id)}})]})]},n)}))})})},E=n(14),S=n.n(E),_=function(e){var t=e.titulo,n=e.id,c=Object(a.useState)([{Himno_Id:1,Numero_estrofa:1,Contenido:""}]),i=Object(k.a)(c,2),s=i[0],r=i[1],o=Object(a.useState)(!1),l=Object(k.a)(o,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){j(!0),function(){var e=Object(I.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/obtenerestrofas?id="+n,{method:"get",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r(a),j(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),Object(h.jsxs)("div",{className:"preview-container",children:[Object(h.jsx)("h1",{id:"titulo-canto",children:t}),s.map((function(e,t){var n=e.Contenido.replace(/(?:\r\n|\r|\n)/g,"<br>");return Object(h.jsx)("div",{className:"estrofa",dangerouslySetInnerHTML:{__html:n}},t)})),Object(h.jsx)("i",{id:"close-preview",className:"icono icono-cerrar"}),Object(h.jsx)(S.a,{className:"loader"+(d?" visible":""),type:"ThreeDots",color:"#80B041",height:80,width:80})]})},L=n.p+"static/media/engranajes.cd2fbc6a.svg",H=n.p+"static/media/bg.f3c89965.jpg",A=n.p+"static/media/oraciones.f14a4c4f.jpg",R=n.p+"static/media/bienvenida.f9810c9a.jpg",q=n.p+"static/media/anuncios.f56f7a1d.jpg",D=Object(a.forwardRef)((function(e,t){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{ref:t,id:"lista-elementos",children:e.otrosElementos.map((function(t,n){return Object(h.jsxs)("div",{className:"titulo-container"+(t.selected?" titulo-selected":""),onClick:function(){return e.agregarElemento(t.Id,t.Titulo,t.tipo,t.url)},children:[Object(h.jsx)("div",{className:"titulo",children:Object(h.jsx)("h4",{children:t.Titulo})}),Object(h.jsx)("div",{className:"iconos-ele",children:Object(h.jsx)("i",{className:"icono icono-agregar"+(t.selected?" icono-selected":"")})})]},n)}))})})})),B=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),i=Object(a.useRef)(),s=Object(a.createRef)(),r=Object(a.useState)(!1),o=Object(k.a)(r,2),l=o[0],d=o[1],j=Object(a.useState)(""),u=Object(k.a)(j,2),b=u[0],f=u[1],m=Object(a.useState)([{Id:0,Titulo:"",Cantidad_estrofas:0,selected:!1}]),O=Object(k.a)(m,2),x=O[0],p=O[1],v=Object(a.useState)(""),C=Object(k.a)(v,2),E=C[0],B=C[1],P=Object(a.useState)(1),M=Object(k.a)(P,2),z=M[0],V=M[1],G=Object(a.useState)(!1),J=Object(k.a)(G,2),K=J[0],Y=J[1],$=Object(a.useState)([{tipo:"imagen",Titulo:"Bienvenida",Id:"i1",url:R},{tipo:"oracion",Titulo:"Oraci\xf3n Inicial",Id:"o1"},{tipo:"oracion",Titulo:"Cena",Id:"o2"},{tipo:"oracion",Titulo:"Ofrenda",Id:"o3"},{tipo:"oracion",Titulo:"Predicaci\xf3n",Id:"p1"},{tipo:"oracion",Titulo:"Meditaci\xf3n",Id:"p2"},{tipo:"oracion",Titulo:"Oraci\xf3n Final",Id:"o4"},{tipo:"imagen",Titulo:"Anuncios",Id:"i2",url:q}]),Q=Object(k.a)($,2),U=Q[0],W=Q[1],X=Object(a.useState)([]),Z=Object(k.a)(X,2),ee=Z[0],te=Z[1],ne=function(e){return console.log("comparando listas..."),ee.forEach((function(t){var n=e.findIndex((function(e){return e.Id===t.Id}));-1!==n&&(e[n].selected=!0)})),e},ae=function(e){e&&"himno-overlay"!==e.target.id&&"close-preview"!==e.target.id||t.current.classList.toggle("visible")};Object(a.useEffect)((function(){d(!0),function(){var e=Object(I.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/himnos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,p(n),d(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsxs)("main",{id:"crearContainer",className:"mainContainer",onClick:function(e){s.current.contains(e.target)||i.current.contains(e.target)||s.current.classList.remove("visible")},children:[Object(h.jsxs)("header",{className:"two-columns",children:[Object(h.jsxs)("div",{className:"header-container",children:[Object(h.jsx)("div",{className:"header-left"}),Object(h.jsx)("div",{className:"header-right",children:Object(h.jsx)("img",{id:"engranajes",className:"image-header",src:L,alt:""})})]}),Object(h.jsx)("div",{className:"mas-abajo",onClick:function(){e.current.scrollIntoView({behavior:"smooth"})}})]}),Object(h.jsx)("div",{className:"linea-divisoria"}),Object(h.jsxs)("div",{className:"columnsContainer",ref:e,children:[Object(h.jsx)("div",{className:"column column1",children:Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:"Lista de cantos disponibles"}),Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),d(!0),K){var t=new Set,n="";(function(){var e=Object(I.a)(y.a.mark((function e(){var a,c,i,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/buscarenestrofas?term="+b,{method:"get",headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:for(c=e.sent,i=0;i<c.length;i++)t.add(c[i].Himno_Id);for(s=Array.from(t),i=0;i<s.length;i++)n+="&array[]="+s[i];(function(){var e=Object(I.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/buscarencontenido?term="+b+n,{method:"get",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,p(ne(a)),d(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}else{if(b.length>0)(function(){var e=Object(I.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/buscartitulos?term="+b,{method:"get",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,p(ne(n)),d(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();else(function(){var e=Object(I.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/himnos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,p(ne(n)),d(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}},children:[Object(h.jsxs)("div",{id:"buscar-container",children:[Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)("i",{className:"icono icono-buscar"})}),Object(h.jsx)("input",{type:"text",name:"search",placeholder:"Buscar Canto",value:b,onChange:function(e){var t=e.target.value;f(t),t.length>0?n.current.classList.add("visible"):n.current.classList.remove("visible")}}),Object(h.jsx)("div",{onClick:function(){d(!0),f(""),n.current.classList.remove("visible"),function(){var e=Object(I.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/himnos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,p(ne(n)),d(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()},children:Object(h.jsx)("i",{id:"borrar-termino",className:"icono icono-cerrar",ref:n})})]}),Object(h.jsxs)("label",{children:["Buscar en contenido ",Object(h.jsx)("input",{type:"checkbox",onChange:function(e){var t=e.target.checked;Y(t)}})]})]}),Object(h.jsx)(F,{himnos:x,verHimno:function(e,t){V(e),B(t),ae()},agregarHimno:function(e,t){var n=x.findIndex((function(t){return t.Id===e})),a=Object(N.a)(x),c=Object(g.a)({},a[n]);if(!c.selected){c.selected=!0,a[n]=c,p(a);var i=[{Id:e,Titulo:t}],s=Object(N.a)(ee).concat(i);te(s)}}})]})}),Object(h.jsx)("div",{className:"column column2",children:Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:"Lista de elementos en la presentaci\xf3n"}),Object(h.jsxs)("div",{id:"iconos-presentacion",children:[Object(h.jsxs)("div",{className:"icono",children:[Object(h.jsx)("i",{ref:i,className:"icono-crear",onClick:function(){s.current.classList.toggle("visible")}}),"Otros"]}),Object(h.jsxs)("div",{className:"icono",children:[Object(h.jsx)("i",{className:"icono-descargar",onClick:function(){if(d(!0),ee.length>0){var e=new T.a;e.author="Creador de presentaciones",e.subject="Presentaci\xf3n de cantos",e.title="Presentaci\xf3n de cantos";for(var t=[],n=0;n<ee.length;n++)ee[n].tipo||t.push(fetch("api/obtenerestrofas?id="+ee[n].Id));Promise.all(t).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){var n=0;ee.forEach((function(a,c){var i=e.addSlide();if(a.tipo)"oracion"===a.tipo?(i.background={path:A},i.addText(a.Titulo,{x:0,y:1.51,h:2.61,w:"100%",color:"FFFFFF",fontSize:60,bold:!0,align:e.AlignH.center})):"imagen"===a.tipo&&("Bienvenida"===a.Titulo?i.background={path:R}:i.background={path:q});else{i.background={path:A},i.addText(a.Titulo,{x:0,y:1.51,h:2.61,w:"100%",color:"FFFFFF",fontSize:60,bold:!0,align:e.AlignH.center});var s=t[n];s.forEach((function(t,n){(i=e.addSlide()).background={color:"000000"},i.background={path:H},i.addText(t.Numero_estrofa,{x:.08,y:0,w:.5,h:.5,color:"FFFFFF",align:e.AlignH.left});var a=50,c=t.Contenido.replace(/[\r\n]+$/,""),r=c.split(/\r\n|\r|\n/).length;a=r>=6&&r<8?46:r>7?40:50,i.addText(c,{isTextBox:!0,shrinkText:!0,autofit:!0,x:0,y:0,w:"100%",h:"100%",fontSize:a,color:"FFFFFF",align:e.AlignH.center}),n===s.length-1&&i.addText("Fin",{x:9.42,y:5.145,w:.54,h:.42,color:"FFFFFF",align:e.AlignH.left})})),n+=1}})),e.writeFile({fileName:"Presentacion de prueba.pptx"}),d(!1)})).catch((function(e){console.error(e)}))}}}),"Descargar"]}),Object(h.jsxs)("div",{className:"icono",children:[Object(h.jsx)("i",{className:"icono-borrar-todo",onClick:function(){var e=Object(N.a)(x),t=Object(N.a)(U);ee.forEach((function(n){if(n.tipo){var a=U.findIndex((function(e){return e.Id===n.Id})),c=Object(g.a)({},t[a]);c.selected=!1,t[a]=c}else{var i=x.findIndex((function(e){return e.Id===n.Id})),s=Object(g.a)({},e[i]);s.selected=!1,e[i]=s}})),W(t),p(e),te([])}}),"Borrar lista"]})]}),Object(h.jsx)(D,{ref:s,otrosElementos:U,agregarElemento:function(e,t,n,a){var c=U.findIndex((function(t){return t.Id===e})),i=Object(N.a)(U),s=Object(g.a)({},i[c]),r=[{Id:e,Titulo:t,tipo:n,url:a}];if(!s.selected){s.selected=!0,i[c]=s,W(i);var o=Object(N.a)(ee).concat(r);te(o)}}}),Object(h.jsx)(w,{presentacion:ee,bajarHimno:function(e){var t=ee.findIndex((function(t){return t.Id===e}));if(t<ee.length-1){var n=ee[t],a=ee.filter((function(t){return t.Id!==e}));a.splice(t+1,0,n),te(a)}},subirHimno:function(e){var t=ee.findIndex((function(t){return t.Id===e}));if(t>0){var n=ee[t],a=ee.filter((function(t){return t.Id!==e}));a.splice(t-1,0,n),te(a)}},eliminarHimno:function(e){var t=ee.filter((function(t){return t.Id!==e}));te(t);var n=x.findIndex((function(t){return t.Id===e})),a=Object(N.a)(x),c=Object(g.a)({},a[n]);c.selected=!1,a[n]=c,p(a);var i=U.findIndex((function(t){return t.Id===e})),s=Object(N.a)(U),r=Object(g.a)({},s[i]);r.selected=!1,s[i]=r,W(s)}})]})})]}),Object(h.jsx)("div",{ref:t,id:"himno-overlay",onClick:ae,children:Object(h.jsx)(_,{titulo:E,id:z})})]}),Object(h.jsx)(S.a,{className:"loader"+(l?" visible":""),type:"ThreeDots",color:"#ACD25D",height:80,width:80})]})},P=Object(a.forwardRef)((function(e,t){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{ref:t,id:"lista-busqueda",children:[Object(h.jsx)("i",{className:"icono icono-cerrar",onClick:e.cerrarOverlay}),Object(h.jsx)("p",{children:"Hay m\xe1s de un canto que coincide con su busqueda por favor"}),Object(h.jsx)("h3",{children:"Elija el canto que desea modificar."}),e.himnos.map((function(t,n){return Object(h.jsxs)("div",{className:"titulo-container"+(t.selected?" titulo-selected":""),onClick:function(){return e.desplegarEstrofas(t.Id,t.Titulo)},children:[Object(h.jsx)("div",{className:"titulo",children:Object(h.jsx)("h4",{children:t.Titulo})}),Object(h.jsx)("div",{className:"iconos-ele",children:Object(h.jsx)("i",{className:"icono icono-agregar"+(t.selected?" icono-selected":"")})})]},n)}))]})})})),M=n(38),z=function(e){var t=Object(a.useRef)(),n=function(e){var t=(e.target.value.match(/\n/g)||[]).length+1;if(console.log(t),13===e.which&&t>=8)return e.preventDefault(),!1};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{id:"estrofas-inputs",ref:t,children:e.estrofas.map((function(t,a){return Object(h.jsxs)("div",{className:"textarea-container",children:[Object(h.jsx)(M.a,{maxLength:"272",onKeyPress:n,className:"estrofa-textarea",maxRows:"8",cols:"32",value:t.Contenido,onChange:function(n){return function(t,n){e.updateEstrofa(t.Numero_estrofa,n)}(t,n)}}),Object(h.jsxs)("h4",{children:["Diapositiva ",t.Numero_estrofa]}),Object(h.jsx)("i",{className:"icono icono-cerrar",onClick:function(){return e.borrarEstrofa(t.Numero_estrofa)}})]},a)}))})})},V=n.p+"static/media/edit_image.d4c1872c.svg",G=n(16),J=n.p+"static/media/agregar_image.555e06bf.svg",K=function(){var e=Object(a.useRef)(),t=Object(a.createRef)(),n=Object(a.useRef)(),i=Object(a.useRef)(),s=Object(a.useState)([{id:0,titulo:"",cantidad:0,updated:!1}]),r=Object(k.a)(s,2),o=r[0],l=(r[1],Object(a.useState)(!1)),d=Object(k.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)(""),f=Object(k.a)(b,2),m=f[0],O=f[1],x=Object(a.useState)([{Id:0,Titulo:"",Cantidad_estrofas:0,selected:!1}]),p=Object(k.a)(x,2),v=p[0],g=p[1],N=Object(a.useState)([]),C=Object(k.a)(N,2),y=C[0],I=(C[1],Object(a.useState)(!1)),T=Object(k.a)(I,2),F=(T[0],T[1],Object(G.usePopup)("confirm",(function(e){e.message;var t=e.confirm,n=e.cancel;return Object(h.jsxs)("div",{className:"confirm-modal",children:["\xbfEst\xe1 seguro que desea ELIMINAR el canto ",Object(h.jsx)("br",{}),'"',o[0].titulo,'"?',Object(h.jsx)("br",{}),Object(h.jsx)("span",{children:"Despu\xe9s de eliminar un canto este ya no estar\xe1 disponible."}),Object(h.jsx)("button",{className:"aceptar-btn",onClick:t,children:"Eliminar"}),Object(h.jsx)("button",{className:"cancelar-btn",onClick:n,children:"Cancelar"})]})}))),w=(Object(k.a)(F,1)[0],function(e,t){console.log("desplegar estrofas...")});return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsxs)("main",{id:"agregarContainer",className:"mainContainer",children:[Object(h.jsxs)("header",{className:"two-columns",children:[Object(h.jsxs)("div",{className:"header-container",children:[Object(h.jsx)("div",{className:"header-left"}),Object(h.jsx)("div",{className:"header-right",children:Object(h.jsx)("img",{id:"agregar",className:"image-header",src:J,alt:""})})]}),Object(h.jsx)("div",{className:"mas-abajo",onClick:function(){e.current.scrollIntoView({behavior:"smooth"})}})]}),Object(h.jsx)("div",{className:"linea-divisoria"}),Object(h.jsxs)("div",{className:"columnsContainer",ref:e,children:[Object(h.jsx)("div",{className:"column column1",children:Object(h.jsx)("section",{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(!0),m.length>0?fetch("api/buscartitulo?term="+m,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){u(!1),e.length>1?(n.current.style.display="block",g(e)):e.length>0?w(e[0].Id,e[0].Titulo):(alert("No hay ning\xfan t\xedtulo que coincida."),u(!1))})).catch((function(e){console.error(e),alert("\xa1Error en la conexi\xf3n!"),u(!1)})):(alert("La busqueda est\xe1 vac\xeda. Digite algun texto para buscar."),u(!1))},children:[Object(h.jsxs)("div",{className:"titulo-modificar",children:[Object(h.jsx)("h2",{children:"T\xedtulo:"}),Object(h.jsx)("div",{className:"buscar-container",children:Object(h.jsx)("input",{type:"text",name:"search",placeholder:"Buscar Canto",value:m,onChange:function(e){var t=e.target.value;O(t)}})})]}),Object(h.jsx)("button",{type:"submit",children:"Verificar"})]})})}),Object(h.jsx)("div",{className:"column column2",children:Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{className:"cantidad-header",children:"Cantidad de estrofas:"}),Object(h.jsx)("div",{className:"numero",children:y.length}),Object(h.jsxs)("div",{id:"add-icons",children:[Object(h.jsxs)("div",{className:"guardar-container",onClick:function(){console.log("nueva diapositiva...")},children:[Object(h.jsx)("i",{className:"icono-nueva"}),"Nueva Diapositiva"]}),Object(h.jsxs)("div",{className:"guardar-container",onClick:function(){console.log("guardar canto...")},children:[Object(h.jsx)("i",{className:"icono-salvar"}),"Guardar Canto"]}),Object(h.jsxs)("div",{className:"guardar-container",onClick:function(){console.log("borrar contenido...")},children:[Object(h.jsx)("i",{className:"icono-borrar-todo"}),"Borrar todo"]})]})]})})]}),Object(h.jsx)("div",{className:"overlay",ref:n,children:Object(h.jsx)(P,{ref:t,himnos:v,desplegarEstrofas:w,cerrarOverlay:function(){n.current.style.display="none"}})}),Object(h.jsx)(z,{estrofas:y,updateEstrofa:function(e,t){console.log("actualizar estrofa...")},borrarEstrofa:function(e){console.log("borrar estrofa...")}}),Object(h.jsx)("div",{ref:i,className:"relleno",children:Object(h.jsx)("h1",{children:"Escoja un t\xedtulo y agregue diapositivas."})})]}),Object(h.jsx)(S.a,{className:"loader"+(j?" visible":""),type:"ThreeDots",color:"#80B041",height:80,width:80})]})},Y=function(){var e=Object(a.useRef)(),t=Object(a.createRef)(),n=Object(a.useRef)(),i=Object(a.useRef)(),s=Object(a.useState)([{id:0,titulo:"",cantidad:0,updated:!1}]),r=Object(k.a)(s,2),o=r[0],l=r[1],d=Object(a.useState)(!1),j=Object(k.a)(d,2),u=j[0],b=j[1],f=Object(a.useState)(""),m=Object(k.a)(f,2),O=m[0],x=m[1],p=Object(a.useState)([{Id:0,Titulo:"",Cantidad_estrofas:0,selected:!1}]),v=Object(k.a)(p,2),g=v[0],C=v[1],T=Object(a.useState)([]),F=Object(k.a)(T,2),w=F[0],E=F[1],_=Object(a.useState)(!1),L=Object(k.a)(_,2),H=L[0],A=L[1],R=Object(G.usePopup)("confirm",(function(e){e.message;var t=e.confirm,n=e.cancel;return Object(h.jsxs)("div",{className:"confirm-modal",children:["\xbfEst\xe1 seguro que desea ELIMINAR el canto ",Object(h.jsx)("br",{}),'"',o[0].titulo,'"?',Object(h.jsx)("br",{}),Object(h.jsx)("span",{children:"Despu\xe9s de eliminar un canto este ya no estar\xe1 disponible."}),Object(h.jsx)("button",{className:"aceptar-btn",onClick:t,children:"Eliminar"}),Object(h.jsx)("button",{className:"cancelar-btn",onClick:n,children:"Cancelar"})]})})),q=Object(k.a)(R,1)[0],D=function(e,t){var n=Object(N.a)(o);e.forEach((function(e,a){n[0][e]=t[a]})),l(n)},B=function(e,t){b(!0),i.current.style.display="none",fetch("api/obtenerestrofas?id="+e).then((function(e){return e.json()})).then((function(e){E(e),b(!1),D(["titulo","cantidad","id"],[t,e.length,e[0].Himno_Id])})).catch((function(e){return console.error(e)})),x(t),n.current.style.display="none"},M=function(){var e=Object(I.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o[0].cantidad>0)){e.next=7;break}return e.next=3,q();case 3:e.sent?(console.log("El canto ha sido eliminado"),l([{id:0,titulo:"",cantidad:0,updated:!1}]),E([]),C([{Id:0,Titulo:"",Cantidad_estrofas:0,selected:!1}]),x(""),i.current.innerHTML="<h1>El canto ha sido eliminado.</h1>",i.current.style.display="block"):console.log("No ha pasado nada"),e.next=8;break;case 7:alert("No hay nada que eliminar. Selecciona un canto antes.");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsxs)("main",{id:"modificarContainer",className:"mainContainer",children:[Object(h.jsxs)("header",{className:"two-columns",children:[Object(h.jsxs)("div",{className:"header-container",children:[Object(h.jsx)("div",{className:"header-left"}),Object(h.jsx)("div",{className:"header-right",children:Object(h.jsx)("img",{id:"edit-image",className:"image-header",src:V,alt:""})})]}),Object(h.jsx)("div",{className:"mas-abajo",onClick:function(){e.current.scrollIntoView({behavior:"smooth"})}})]}),Object(h.jsx)("div",{className:"linea-divisoria"}),Object(h.jsxs)("div",{className:"columnsContainer",ref:e,children:[Object(h.jsx)("div",{className:"column column1",children:Object(h.jsx)("section",{children:Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),D(["updated"],[!1]),E([]),b(!0),H)if(O.length>0){var t=new Set,a="";fetch("/api/buscarenestrofas?term="+O,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var c=0;c<e.length;c++)t.add(e[c].Himno_Id);var i=Array.from(t);for(c=0;c<i.length;c++)a+="&array[]="+i[c];fetch("api/buscarencontenido?term="+O+a,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){b(!1),e.length>1?(n.current.style.display="block",C(e)):e.length>0?B(e[0].Id,e[0].Titulo):(alert("No hay coincidencias con su busqueda"),b(!1))})).catch((function(e){console.error(e),alert("\xa1Error en la conexi\xf3n!"),b(!1)}))})).catch((function(e){console.error(e),alert("\xa1Error en la conexi\xf3n!"),b(!1)}))}else window.alert("La busqueda est\xe1 vac\xeda. Digite algun texto para buscar."),b(!1);else O.length>0?fetch("api/buscartitulos?term="+O,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){b(!1),e.length>1?(n.current.style.display="block",C(e)):e.length>0?B(e[0].Id,e[0].Titulo):(alert("No hay coincidencias con su busqueda"),b(!1))})).catch((function(e){console.error(e),alert("\xa1Error en la conexi\xf3n!"),b(!1)})):(alert("La busqueda est\xe1 vac\xeda. Digite algun texto para buscar."),b(!1))},children:[Object(h.jsxs)("div",{className:"titulo-modificar",children:[Object(h.jsx)("h2",{children:"T\xedtulo:"}),Object(h.jsx)("div",{className:"buscar-container",children:Object(h.jsx)("input",{type:"text",name:"search",placeholder:"Buscar Canto",value:O,onChange:function(e){var t=e.target.value;x(t),w.length>0&&D(["titulo","updated"],[t,!0])}})})]}),Object(h.jsx)("button",{type:"submit",children:"Buscar"}),Object(h.jsxs)("label",{children:["Buscar en contenido ",Object(h.jsx)("input",{type:"checkbox",onChange:function(e){var t=e.target.checked;A(t)}})]})]})})}),Object(h.jsx)("div",{className:"column column2",children:Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{className:"cantidad-header",children:"Cantidad de estrofas:"}),Object(h.jsx)("div",{className:"numero",children:w.length}),Object(h.jsxs)("div",{id:"modify-icons",children:[Object(h.jsxs)("div",{className:"guardar-container",onClick:function(){if(0!==o[0].id){var e=Object(N.a)(w);e.push({Himno_Id:e[0].Himno_Id,Numero_estrofa:e.length+1,Contenido:""}),E(e)}else alert("No ha seleccionado ning\xfan canto para modificar.")},children:[Object(h.jsx)("i",{className:"icono-nueva"}),"Nueva Diapositiva"]}),Object(h.jsxs)("div",{className:"guardar-container",onClick:function(){if(console.log(o[0].cantidad),o[0].cantidad>0){b(!0);var e,t={},n={titulo:o[0].titulo,cantidad:w.length,id:w[0].Himno_Id};if(o[0].cantidad>w.length){e=o[0].cantidad-w.length;for(var a=0;a<e;a++){var c={id:n.id,numero:o[0].cantidad-a};console.log("estrofa: "+c.numero+" de "+o[0].cantidad+" ha sido borrada.")}var i=o[0].cantidad-e;D(["cantidad"],[i])}else if(o[0].cantidad<w.length){var s=w.length-o[0].cantidad;for(a=1;a<=s;a++){var r=o[0].cantidad+a,l={id:n.id,numero:r,contenido:w[r-1].Contenido};console.log("La estrofa: "+l.numero+" fue agregada. Contenido: ",l.contenido);var d=Object(N.a)(w);d[r-1].updated=!1,E(d)}var j=o[0].cantidad+s;D(["cantidad"],[j])}o[0].updated?(console.log("El himno ha sido actualizado.",n),D(["updated"],[!1])):console.log("El himno NO ha sido actualizado"),Object(N.a)(w).forEach((function(e){e.updated?(t={id:e.Himno_Id,numero:e.Numero_estrofa,contenido:e.Contenido},console.log("La estrofa: "+t.numero+" ha sido actualizada."),e.updated=!1):console.log("La estrofa:"+e.Numero_estrofa+" NO ha sido actualizado")})),b(!1)}else alert("No hay nada que guardar.")},children:[Object(h.jsx)("i",{className:"icono-salvar"}),"Guardar Cambios"]}),Object(h.jsxs)("div",{className:"guardar-container",onClick:M,children:[Object(h.jsx)("i",{className:"icono-eliminar"}),"Eliminar Canto"]})]})]})})]}),Object(h.jsx)("div",{className:"overlay",ref:n,children:Object(h.jsx)(P,{ref:t,himnos:g,desplegarEstrofas:B,cerrarOverlay:function(){n.current.style.display="none"}})}),Object(h.jsx)(z,{estrofas:w,updateEstrofa:function(e,t){var n=Object(N.a)(w),a=t.target.value;n[e-1].Contenido=a,n[e-1].updated=!0,E(n)},borrarEstrofa:function(e){if(w.length>1){var t=e-1;console.log("estrofa index: "+t);var n=Object(N.a)(w);n.splice(t,1),n.forEach((function(e){e.Numero_estrofa>=t+1&&(e.Numero_estrofa-=1,e.updated=!0)})),D(["updated"],[!0]),E(n)}else alert("No se puede elminar. Cada himno debe tener m\xednimo una estrofa.")}}),Object(h.jsx)("div",{ref:i,className:"relleno",children:Object(h.jsx)("h1",{children:"Escoja el canto que desea modificar."})})]}),Object(h.jsx)(S.a,{className:"loader"+(u?" visible":""),type:"ThreeDots",color:"#80B041",height:80,width:80})]})},$=function(){return Object(h.jsx)("h1",{children:"404: La p\xe1gina no se encuentra."})};var Q=function(){return Object(h.jsx)(r.a,{children:Object(h.jsx)(G.PopupProvider,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(f,{}),Object(h.jsx)("div",{id:"page-body",children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",component:v,exact:!0}),Object(h.jsx)(o.a,{path:"/crear",component:B}),Object(h.jsx)(o.a,{path:"/agregar",component:K}),Object(h.jsx)(o.a,{path:"/modificar",component:Y}),Object(h.jsx)(o.a,{component:$})]})}),Object(h.jsx)(x,{})]})})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(Q,{})}),document.getElementById("root")),U()}},[[95,1,2]]]);
//# sourceMappingURL=main.28ea844e.chunk.js.map